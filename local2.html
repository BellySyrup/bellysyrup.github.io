<html>
<head>
  <title>Web Notifications</title>
  
</head>
<body>
  <h1>Web Notifications</h1>
  
  <script>

  window.addEventListener('load', function () {
  if (window.Notification && Notification.permission !== "granted") {
    Notification.requestPermission(function (status) {
      if (Notification.permission !== status) {
        Notification.permission = status;
      }
    });
  }});
  function notify(msg){
  	// support = true; permission = true
  	if (window.Notification && Notification.permission === "granted") {
      var n = new Notification(msg);
    } 
    // support = true; permission = false;
    else if (window.Notification && Notification.permission !== "denied") {
      Notification.requestPermission(function (status) {
        if (Notification.permission !== status) {
          Notification.permission = status;
        }

        // if permission == true;
        if (status === "granted") {
          var n = new Notification(msg);
        }

        // if permission == false;
        else {
          alert(msg);
        }

      });
    }
    // lol get a better browser noob
    else {
        alert(msg);
    }
  }

  </script>
  <button id="button" onclick="notify('hi')">Send Notification</button>
</body>

</html>
