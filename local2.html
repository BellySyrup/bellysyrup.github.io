<html>
<head>
  <title>Web Notifications</title>

</head>
<body>
  <h1>Web Notifications</h1>
  <a href="#" id="button" onclick="notify('hello world');">Send Notification</a>
    <script type="text/javascript">

  window.addEventListener('load', function () {
  // At first, let's check if we have permission for notification
  // If not, let's ask for it
  if (window.Notification && Notification.permission !== "granted") {
    Notification.requestPermission(function (status) {
      if (Notification.permission !== status) {
        Notification.permission = status;
      }
    });
  }

  function notify(msg){
  	// support = true; permission = true
  	if (window.Notification && Notification.permission === "granted") {
      var n = new Notification(msg);
    } 
    // support = true; permission = false;
    else if (window.Notification && Notification.permission !== "denied") {
      Notification.requestPermission(function (status) {
        if (Notification.permission !== status) {
          Notification.permission = status;
        }

        // if permission == true;
        if (status === "granted") {
          var n = new Notification(msg);
        }

        // if permission == false;
        else {
          alert(msg);
        }

      });
    }
    // lol get a better browser noob
    else {
        alert(msg);
    }
  }
});
  </script>
</body>
</html>
